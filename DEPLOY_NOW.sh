#!/bin/bash

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                                                               â•‘"
echo "â•‘          Growark ç³»ç»Ÿ - Sealos éƒ¨ç½²è‡ªåŠ¨åŒ–è„šæœ¬                â•‘"
echo "â•‘                                                               â•‘"
echo "â•‘              ç”±äºŽ Sealos CLI ä¸å¯ç”¨ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨æ“ä½œ     â•‘"
echo "â•‘                                                               â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å°±ç»ª
echo "ðŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥..."
echo

CHECKS_PASSED=0
CHECKS_TOTAL=0

# æ£€æŸ¥å¤§å±ç«¯
CHECKS_TOTAL=$((CHECKS_TOTAL + 1))
if [ -f "bigscreen/dist/index.html" ] && [ -d "bigscreen/dist/assets" ]; then
    echo "âœ… å¤§å±ç«¯æ–‡ä»¶å°±ç»ª (176KB)"
    CHECKS_PASSED=$((CHECKS_PASSED + 1))
    BIGSCREEN_PATH="$(pwd)/bigscreen/dist"
    echo "   è·¯å¾„: $BIGSCREEN_PATH"
else
    echo "âŒ å¤§å±ç«¯æ–‡ä»¶ç¼ºå¤±"
fi

echo

# æ£€æŸ¥æ‰‹æœºç«¯
CHECKS_TOTAL=$((CHECKS_TOTAL + 1))
if [ -f "mobile/dist/index.html" ] && [ -d "mobile/dist/assets" ]; then
    echo "âœ… æ‰‹æœºç«¯æ–‡ä»¶å°±ç»ª (560KB)"
    CHECKS_PASSED=$((CHECKS_PASSED + 1))
    MOBILE_PATH="$(pwd)/mobile/dist"
    echo "   è·¯å¾„: $MOBILE_PATH"
else
    echo "âŒ æ‰‹æœºç«¯æ–‡ä»¶ç¼ºå¤±"
fi

echo

# æ£€æŸ¥åŽç«¯
CHECKS_TOTAL=$((CHECKS_TOTAL + 1))
if ps aux | grep "node server.js" | grep -v grep > /dev/null; then
    echo "âœ… åŽç«¯æœåŠ¡å·²å¯åŠ¨"
    CHECKS_PASSED=$((CHECKS_PASSED + 1))
else
    echo "âš ï¸  åŽç«¯æœåŠ¡æœªå¯åŠ¨ï¼ˆéœ€è¦å¯åŠ¨ï¼‰"
fi

echo
echo "æ£€æŸ¥ç»“æžœ: $CHECKS_PASSED/$CHECKS_TOTAL"
echo

if [ $CHECKS_PASSED -lt $CHECKS_TOTAL ]; then
    echo "âŒ æŸäº›æ£€æŸ¥æœªé€šè¿‡ï¼Œéƒ¨ç½²ä¸­æ­¢"
    exit 1
fi

echo "âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼å¯ä»¥å¼€å§‹éƒ¨ç½²"
echo

# ç”Ÿæˆéƒ¨ç½²è¯´æ˜Ž
cat > /tmp/sealos_deploy_guide.txt << 'GUIDE'
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   Sealos Web UI éƒ¨ç½²æ­¥éª¤                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€éƒ¨ç½²å‰å‡†å¤‡ã€‘
1. æ‰“å¼€æµè§ˆå™¨è®¿é—®: https://cloud.sealos.io
2. ç™»å½•æ‚¨çš„ Sealos è´¦æˆ·
3. è¿›å…¥"åº”ç”¨ç®¡ç†"é¡µé¢

ã€éƒ¨ç½²å¤§å±ç«¯ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ­¥éª¤ 1: ç‚¹å‡»"åˆ›å»ºåº”ç”¨"
  â†“
æ­¥éª¤ 2: é€‰æ‹©"é™æ€ç½‘ç«™"ç±»åž‹
  â†“
æ­¥éª¤ 3: è¾“å…¥åº”ç”¨åç§°: bigscreen
  â†“
æ­¥éª¤ 4: ä¸Šä¼ æ–‡ä»¶
  â”œâ”€ æ¥æº: /home/devbox/project/bigscreen/dist/
  â”œâ”€ åŒ…å«: index.html å’Œ assets/ æ–‡ä»¶å¤¹
  â””â”€ ä¸Šä¼ å®Œæ•´çš„æ–‡ä»¶å¤¹ç»“æž„
  â†“
æ­¥éª¤ 5: ç‚¹å‡»"åˆ›å»º"æŒ‰é’®
  â†“
æ­¥éª¤ 6: ç­‰å¾… 2-3 åˆ†é’Ÿï¼ˆæ˜¾ç¤ºéƒ¨ç½²ä¸­...ï¼‰
  â†“
æ­¥éª¤ 7: éƒ¨ç½²å®ŒæˆåŽï¼Œå¤åˆ¶åˆ†é…çš„å…¬ç½‘åœ°å€
  â””â”€ æ ¼å¼: https://bigscreen-xxxxxx.sealoshzh.site
  â””â”€ ä¿å­˜è¿™ä¸ªåœ°å€ï¼

ã€éƒ¨ç½²æ‰‹æœºç«¯ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œä½†ï¼š
  â€¢ åº”ç”¨åç§°æ”¹ä¸º: mobile
  â€¢ ä¸Šä¼ æ–‡ä»¶: /home/devbox/project/mobile/dist/
  â€¢ å¤åˆ¶åˆ†é…çš„åœ°å€

ã€éƒ¨ç½²å®ŒæˆåŽéªŒè¯ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. åœ¨æµè§ˆå™¨è®¿é—®å¤§å±ç«¯åœ°å€
   â”œâ”€ åº”è¯¥çœ‹åˆ°: å®žæ—¶æŽ’è¡Œæ¦œé¡µé¢
   â”œâ”€ é¡¶éƒ¨çŠ¶æ€: åº”æ˜¾ç¤º"å·²è¿žæŽ¥"
   â””â”€ åŠ è½½æ—¶é—´: 2-3 ç§’

2. åœ¨æµè§ˆå™¨è®¿é—®æ‰‹æœºç«¯åœ°å€
   â”œâ”€ åº”è¯¥çœ‹åˆ°: å­¦ç”Ÿç®¡ç†ç•Œé¢
   â””â”€ åŠ è½½æ—¶é—´: 2-3 ç§’

3. æµ‹è¯•å®žæ—¶åŒæ­¥
   â”œâ”€ æ‰“å¼€ä¸¤ä¸ªæµè§ˆå™¨æ ‡ç­¾
   â”œâ”€ æ ‡ç­¾ A: å¤§å±ç«¯
   â”œâ”€ æ ‡ç­¾ B: æ‰‹æœºç«¯
   â”œâ”€ åœ¨æ‰‹æœºç«¯(B)åˆ›å»ºå­¦ç”Ÿ
   â””â”€ è§‚å¯Ÿå¤§å±ç«¯(A): åº”åœ¨ 1 ç§’å†…æ˜¾ç¤ºæ–°å­¦ç”Ÿ

ã€å¦‚æžœé‡åˆ°é—®é¢˜ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
åº”ç”¨æ˜¾ç¤º 404:
  â†’ ç­‰å¾… 2-3 åˆ†é’ŸåŽåˆ·æ–°ï¼ˆPod åˆå§‹åŒ–ä¸­ï¼‰
  â†’ æ£€æŸ¥ Sealos UI ä¸­åº”ç”¨çŠ¶æ€æ˜¯å¦ä¸º"Running"

æ— æ³•è¿žæŽ¥åˆ°åŽç«¯:
  â†’ æ£€æŸ¥å¤§å±ç«¯é¡¶éƒ¨è¿žæŽ¥çŠ¶æ€
  â†’ æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12) æŸ¥çœ‹é”™è¯¯
  â†’ ç­‰å¾… 5 ç§’ï¼ŒWebSocket å¯èƒ½åœ¨åˆå§‹åŒ–

æ•°æ®ä¸åŒæ­¥:
  â†’ åˆ·æ–°å¤§å±ç«¯é¡µé¢
  â†’ æ£€æŸ¥åŽç«¯å…¬ç½‘åœ°å€æ˜¯å¦å¯è®¿é—®
  â†’ å°è¯•å†æ¬¡åˆ›å»ºå­¦ç”Ÿ

GUIDE

cat /tmp/sealos_deploy_guide.txt

echo
echo "ðŸ“‹ éƒ¨ç½²è¯´æ˜Žå·²ä¿å­˜åˆ°: /tmp/sealos_deploy_guide.txt"
echo
echo "ðŸŒ å…³é”®åœ°å€:"
echo "   Sealos æŽ§åˆ¶å°: https://cloud.sealos.io"
echo "   åŽç«¯åœ°å€:     https://xysrxgjnpycd.sealoshzh.site"
echo
echo "ðŸ“ éƒ¨ç½²æ–‡ä»¶:"
echo "   å¤§å±ç«¯: $BIGSCREEN_PATH"
echo "   æ‰‹æœºç«¯: $MOBILE_PATH"
echo
echo "âœ… å‡†å¤‡å¥½äº†å—ï¼ŸæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤æ“ä½œå³å¯ï¼"
echo

